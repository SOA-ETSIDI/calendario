\documentclass[10pt,a4paper, spanish]{article}
\usepackage[utf8]{inputenc} 
\usepackage[T1]{fontenc}
\usepackage[left=1.5cm,right=1.5cm,top=2cm,bottom=1cm]{geometry}
\usepackage[spanish]{babel}
\usepackage{enumitem}
\setlist{itemsep=1pt} 
\def\labelitemi{--}
\usepackage{eso-pic}
\newcommand\AtPageUpperRight[1]{\AtPageUpperLeft{%
   \makebox[\paperwidth][r]{#1}}}

\AddToShipoutPictureBG{%
  \AtPageUpperLeft{
    \raisebox{-1.1\height}{
      \includegraphics[width=0.12\textwidth]{LogoUPM.pdf}
    }}}

\AddToShipoutPicture{%
  \AtPageUpperRight{
    \raisebox{-1.1\height}{
      \includegraphics[width=0.12\textwidth]{LogoETSIDI.pdf}
    }}}

% Will change name of weekdays
\usepackage[spanish]{translator}

\pagestyle{empty}
\pagenumbering{gobble}

\usepackage{tikz}
\usetikzlibrary{calendar,positioning}

\usepackage{mathpazo}

\newcommand{\monyear}[2]{
\calendar[dates = #2-#1-01 to #2-#1-last,
month label above centered,week list,
month text=\textcolor{black}{\%mt \%y0},
day text = \pgfcalendarshorthand{d}{=}]
\seqETSIDI
\oneDayETSIDI
if (Sunday) [black!50, font=\itshape, nodes={fill=white}]
if (Saturday) [black!50];
}
\tikzstyle{fiesta}=[text=green!70!black, font=\itshape]
\tikzstyle{especial}=[text=blue!60!black, font=\bfseries,nodes={draw=blue!60!white}]
\tikzstyle{normal}=[text=black!50]
\tikzstyle{lectivo}=[text=blue!70!black]
\tikzstyle{noLectivo}=[text=black!50]
\tikzstyle{aa}=[text=blue!60!white, font=\itshape]
\tikzstyle{examen}=[text=red!65!black,font=\bfseries]
\tikzstyle{evento}=[nodes={fill=red!10}]
\tikzstyle{matricula}=[nodes={fill=black!10}]


\newcommand{\leyenda}{
\section*{Leyenda}
  \begin{tikzpicture}
\matrix[ampersand replacement=\&, row sep=0.3cm,column sep=0.5cm] {
          \node [fiesta] {15};\& \node {Festivo};\\
          \node [especial, draw = blue!60!white] {15};\& \node {Día de horario especial};\\
          \node [lectivo] {15};\& \node {Día lectivo};\\
          \node [noLectivo] {15};\& \node {Día no lectivo};\\
%%          \node [aa] {15};\& \node {Ampliación de Actividades};\\
          \node [examen] {15};\& \node {Exámenes};\\
          \node [matricula, fill = black!10] {15};\& \node {Matrícula};\\
          \node [evento, fill = red!10] {15};\& \node {Evento};\\
};
\end{tikzpicture}
}

